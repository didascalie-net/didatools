max v2;#N vpatcher 502 44 1198 709;#P origin 0 -4;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 448 119 29 196617 t 20;#P newex 481 119 32 196617 sel 0;#P window setfont Times 10.;#P window linecount 4;#P comment 593 47 64 1310730 floating point resolution multiplier/divider;#N comlet floating point resolution multiplier/divider;#P inlet 578 47 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 74 529 50 196617 gate 2 1;#P newex 533 436 50 196617 + 1;#P newex 533 416 50 196617 != 0.;#P comment 343 554 44 196617 current;#P window linecount 5;#P comment 343 568 76 196617 $1 \; $2 \; $3 \; \; $4 \;;#P window setfont Times 9.;#P window linecount 1;#P newex 133 63 47 1310729 t 1 f 0;#P newex 84 584 40 1310729 gate 1 1;#P newex 54 504 53 1310729 prepend set;#P newex 54 484 50 1310729 * 100000.;#P window setfont Times 10.;#P window linecount 2;#P comment 388 91 52 1310730 curve value (-1. to 1.);#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 533 243 98 196617 clip -1. 1.;#P newex 533 156 50 196617 loadbang;#P message 533 203 55 196617 $4;#N comlet curve;#P inlet 373 91 15 0;#P newex 206 450 58 196617 f $1;#P newex 114 553 185 196617 scalecurv;#P comment 447 542 109 196617 contact@tommays.net;#P comment 447 529 100 196617 patch by Tom Mays;#P window setfont Times 9.;#P newex 219 192 27 1310729 sel 0;#P window setfont "Sans Serif" 9.;#P newex 304 271 35 196617 r stop;#B color 11;#P window setfont Times 10.;#P window linecount 2;#P comment 496 91 46 1310730 min grain size;#N comlet min grain size;#P inlet 481 91 15 0;#P window setfont Times 9.;#P window linecount 1;#P newex 219 173 48 1310729 f $3;#P newex 114 435 48 1310729 / 100000.;#P newex 41 210 50 1310729 * 100000.;#P number 254 390 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#N comlet current grain size;#P outlet 254 411 15 0;#P window setfont "Sans Serif" 9.;#P newex 41 42 128 196617 route int float list stop set;#P window setfont Times 10.;#P comment 211 115 28 1310730 time;#N comlet time;#P inlet 196 114 15 0;#P window setfont Times 9.;#P newex 152 187 54 1310729 i;#P newex 41 130 94 1310729 t b f b 0;#P message 41 154 17 1310729 0;#P newex 72 106 55 1310729 t b l b b;#P window setfont "Sans Serif" 9.;#P window linecount 5;#P comment 349 327 134 196617 if destination and time received where destination and current value are equal \, wait the time and send a "done" bang.;#N comlet done;#P outlet 156 412 15 0;#P window linecount 1;#P newex 176 359 24 196617 1;#P newex 176 339 19 196617 t b;#P newex 156 280 30 196617 > 1;#P newex 156 256 27 196617 / 1.;#P newex 156 320 43 196617 i;#P newex 156 300 30 196617 sel 1;#P newex 135 236 27 196617 i;#P comment 168 236 27 196617 time;#P window linecount 3;#P comment 199 280 52 196617 calculate optimal grain size;#N comlet int list stop set;#P inlet 41 21 15 0;#P window linecount 1;#P newex 41 187 108 196617 unpack 0. 0 0.;#P button 266 365 15 0;#P message 291 323 27 196617 stop;#P window setfont Times 10.;#P newex 266 299 35 1310730 t b b;#P window setfont "Sans Serif" 9.;#P newex 71 257 36 196617 - $1;#P newex 41 236 40 196617 t i b i;#P newex 71 276 23 196617 abs;#P newex 71 296 30 196617 sel 0;#P window linecount 2;#P comment 2 233 39 196617 destin- ation;#P window linecount 1;#P message 71 316 14 196617 0;#N comlet out;#P outlet 84 607 15 0;#P newex 114 383 52 196617 line $1;#P comment 25 274 44 196617 delta 'y';#P number 288 177 54 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 394 27 50 196617 loadbang;#P message 394 52 55 196617 $2;#P newex 288 152 98 196617 clip 1 2147483647;#P window setfont "Sans Serif" 20.;#P comment 372 241 74 196628 linefog;#P window setfont "Sans Serif" 9.;#P window linecount 2;#P comment 342 176 49 196617 min grain size;#P window linecount 5;#P comment 419 568 234 196617 arg 1 : optional start value \, default = 0 \; arg 2 : minimum grain size (default = 20 ms if 0) \; arg 3 : floating point resolution multiplier/divider (par défaut 1000000 if 0) \; arg 4 : default curve value;#P window linecount 2;#P comment 354 271 121 196617 floating point line with optimal grain size;#P window linecount 1;#P newex 321 347 27 196617 del;#P window setfont Times 9.;#P comment 269 412 73 1310729 current grain size;#P connect 23 0 41 0;#P connect 41 1 37 0;#P connect 41 0 37 0;#P fasten 63 1 37 0 156 95 46 95;#P lcolor 6;#P connect 37 0 36 0;#P connect 35 0 36 0;#P fasten 35 1 22 0 92 181 46 181;#P fasten 37 1 44 0 75 207 46 207;#P lcolor 2;#P connect 22 0 44 0;#P connect 44 0 17 0;#P connect 54 0 60 0;#P connect 60 0 61 0;#P connect 17 2 18 0;#P connect 18 0 16 0;#P connect 16 0 15 0;#P connect 15 0 13 0;#P connect 41 2 35 0;#P connect 67 0 68 0;#P connect 50 1 44 1;#P lcolor 1;#P fasten 63 2 62 0 174 88 26 88 26 577 89 577;#P lcolor 15;#P fasten 63 0 62 0 138 84 26 84 26 577 89 577;#P lcolor 15;#P connect 62 0 12 0;#P connect 50 1 60 1;#P lcolor 1;#P fasten 11 0 18 1 119 409 110 409 110 252 102 252;#P connect 20 0 11 0;#P lcolor 1;#P fasten 17 0 11 0 46 336 119 336;#P connect 61 0 11 0;#P connect 11 0 45 0;#P connect 45 0 68 1;#P connect 68 1 53 0;#P connect 68 0 62 1;#P connect 53 0 62 1;#P connect 41 4 63 0;#P connect 17 1 26 0;#P connect 26 0 11 1;#P connect 37 1 53 1;#P lcolor 13;#P connect 54 0 53 1;#P lcolor 4;#P connect 37 2 38 0;#P connect 38 0 26 1;#P lcolor 7;#P connect 13 0 26 1;#P fasten 22 1 26 1 144 228 157 228;#P lcolor 7;#P connect 50 1 45 1;#P lcolor 1;#P connect 26 0 29 0;#P connect 29 0 30 0;#P connect 30 0 27 0;#P connect 27 0 28 0;#P fasten 32 0 11 2 181 379 161 379;#P connect 28 0 11 2;#P connect 11 1 33 0;#P connect 21 0 33 0;#P connect 37 1 53 2;#P lcolor 13;#P connect 22 0 53 2;#P lcolor 15;#P connect 15 1 29 1;#P connect 9 0 30 1;#P lcolor 1;#P connect 27 1 31 0;#P connect 31 0 32 0;#P fasten 29 0 28 1 161 277 194 277;#P connect 9 0 32 1;#P lcolor 1;#P connect 36 0 38 1;#P connect 39 0 38 1;#P connect 37 1 53 3;#P lcolor 13;#P connect 54 0 53 3;#P lcolor 7;#P connect 21 0 54 0;#P connect 11 1 54 0;#P connect 35 2 54 0;#P connect 8 0 46 0;#P lcolor 1;#P fasten 69 0 46 0 583 76 224 76;#P lcolor 6;#P connect 46 0 50 0;#P connect 37 1 53 4;#P lcolor 13;#P connect 22 0 53 4;#P lcolor 15;#P connect 32 0 43 0;#P lcolor 6;#P connect 28 0 43 0;#P lcolor 6;#P connect 43 0 42 0;#P connect 68 0 54 1;#P connect 53 0 54 1;#P connect 58 0 53 5;#P fasten 41 3 19 0 115 104 271 104;#P lcolor 13;#P connect 1 0 21 0;#P connect 19 0 21 0;#P fasten 72 0 6 0 453 144 293 144;#P fasten 71 1 6 0 508 144 293 144;#P connect 6 0 9 0;#P connect 19 1 20 0;#P fasten 49 0 20 0 309 320 296 320;#P connect 15 0 1 0;#P fasten 22 1 1 1 144 228 343 228;#P lcolor 7;#P fasten 38 0 1 1 157 228 343 228;#P lcolor 7;#P connect 8 0 7 0;#P connect 71 0 72 0;#P connect 47 0 71 0;#P connect 7 0 71 0;#P connect 57 0 56 0;#P connect 35 3 56 0;#P connect 56 0 58 0;#P connect 55 0 58 0;#P connect 22 2 58 0;#P connect 37 3 58 0;#P connect 58 0 66 0;#P connect 66 0 67 0;#P pop;